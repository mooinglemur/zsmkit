10 BLOAD"ZSMKITA000.BIN",8,1,$A000 : REM LOAD ZSMKIT LIB
20 REM INITIALIZE ZSMKIT
30 BANK 1
40 POKE$30D,$00 : REM LOW RAM REGION $400-$4FF GIVEN TO ZSMKIT
50 POKE$30E,$04 : REM LOW RAM REGION $400-$4FF GIVEN TO ZSMKIT
60 SYS$A000 : REM ZSM-INIT-ENGINE
70 REM SET UP THE DEFAULT INTERRUPT HANDLER
80 SYS$A054 : REM ZSMKIT-SETISR
90 REM NOW ZSMKIT IS ALL SET UP TO PLAY MUSIC
100 REM LOAD THE DEFAULT SONG. ZSMKIT OWNS BANK 1, SO LOAD SONG
110 BLOAD"CANYON.ZSM",8,2,$A000 : REM STARTING IN BANK 2
120 REM NOW TELL ZSMKIT WHERE THE SONG LIVES
130 REM USE ZSMKIT PRIORITY (SLOT) 0
140 BANK 1
150 POKE $30C,2:POKE $30D,0:SYS $A01B : REM ZSM-SETBANK
160 POKE $30C,$00:POKE $30E,$A0:POKE $30D,0 : SYS $A01E : REM ZSM-SETMEM
170 REM NOW WE'RE CLEAR TO START SONG PLAYBACK
180 POKE$30D,0 : REM PRIORITY (SLOT) 0
190 SYS$A006 : REM ZSM-PLAY
200 PRINT "TO STOP SONG TYPE: RUN 230"
210 PRINT "SONG DRIVER WILL STAY RESIDENT"
220 END
230 POKE$30D,0 : REM PRIORITY (SLOT) 0
240 SYS$A009 : REM ZSM-STOP
250 PRINT "TO CONTINUE SONG TYPE: RUN 180"
260 END
